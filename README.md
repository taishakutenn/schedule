# schedule
This is a project to automate the creation of a schedule for a college.

# Как использовать Makefile
Makefile - это специальный файл, в котором можно написать какую-либо длинную команду
и присвоить ей короткое имя, по которому она будет вызываться. Что позвоялет сократить время на прописывание
одной и той же команды в терминале много раз. Банальный пример использования - запуск docker-compose файла.
<br>
После того, как мы написали команды в Makefile - вызываем их в терминале через команду make. Если операционная 
система не linux, а windows - то команда будет вызываться только из git bush (устанавливается с гитом), или с использованием
специальных доп.приложений и эмулторов
<br>
<b>Пример:</b>
<br>
<code>
    make up
</code>
<br>
Запустит команду, которая находится в файле Makefile, имеющую имя up

# Миграции
После того, как был запущен docker, можно применить миграции, если их ещё нет

Для накатывания миграций, если файла alembic.ini ещё нет, нужно запустить в терминале команду:

```
alembic init migrations
```

После этого будет создана папка с миграциями и конфигурационный файл для алембика.

- В alembic.ini нужно задать адрес базы данных, в которую будем катать миграции.
- Дальше идём в папку с миграциями и открываем env.py, там находим блок кода, где написано: ```from myapp import mymodel```
- Заменяем 3 строчки кода, начиная с найденной в прошлом шаге, на такой код:
```
from db.models import Base
target_metadata = Base.metadata
# target_metadata = None
```
- Дальше вводим: ```alembic revision --autogenerate -m "comment"```
- Будет создана миграция
- Дальше вводим: ```alembic upgrade heads```